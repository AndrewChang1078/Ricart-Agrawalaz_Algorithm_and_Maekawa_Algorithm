Server 0 is started
***Server hosted file list***
a.txt
c.txt
b.txt
*****************************
Start initialization
Initialization done
Listining to port: 8083...
Trying to connect to 127.0.0.1:8085
Connect successfully
Starting daemon threads...
Daemon threads start successfully
Listining to port: 8080...
Start listening to client's requests...
Receive REQME 1 1 c.txt, server:1->0
Need to defer? 0
Send REPLY c.txt$#, server:0->1
Connection established
Receiving messages...
Receive ENQUIRY from client
Send a.txt,c.txt,b.txt
Receive ENQUIRY from client
Send a.txt,c.txt,b.txt
Receive WRITE a.txt client0 from client
Receive BC c.txt client3, server:1->0
Send ACK c.txt$#, server:0->1
Local timestamp[a.txt]=1
Send REQME 1 0 a.txt$#, server:0->1
Send REQME 1 0 a.txt$#, server:0->2
Waiting for replies...
Receive REPLY a.txt, server:1->0
Receive REPLY a.txt, server:2->0
Receive REQME 2 2 c.txt, server:2->0
Need to defer? 0
Send REPLY c.txt$#, server:0->2
Receive 2 replies
***Enter CS (file:a.txt)***
Write 'client0' to a.txt
Send BC a.txt client0$#, server:0->1
Send BC a.txt client0$#, server:0->2
Waiting for ACKs...
Receive ACK a.txt, server:1->0
outstd_ack_cnt=1
Receive BC c.txt client4, server:2->0
Send ACK c.txt$#, server:0->2
Receive REQME 1 1 b.txt, server:1->0
Need to defer? 0
Send REPLY b.txt$#, server:0->1
Receive ACK a.txt, server:2->0
outstd_ack_cnt=0
Receive 2 ACK
***Exit CS (file:a.txt)***
Send OK
Receive WRITE b.txt client0 from client
Receive BC b.txt client3, server:1->0
Send ACK b.txt$#, server:0->1
Local timestamp[b.txt]=2
Send REQME 2 0 b.txt$#, server:0->1
Send REQME 2 0 b.txt$#, server:0->2
Waiting for replies...
Receive REPLY b.txt, server:2->0
Receive REPLY b.txt, server:1->0
Receive REQME 3 2 b.txt, server:2->0
Need to defer? 1
Receive 2 replies
***Enter CS (file:b.txt)***
Write 'client0' to b.txt
Send BC b.txt client0$#, server:0->1
Send BC b.txt client0$#, server:0->2
Waiting for ACKs...
Receive ACK b.txt, server:1->0
outstd_ack_cnt=1
Receive ACK b.txt, server:2->0
outstd_ack_cnt=0
Receive REQME 4 1 b.txt, server:1->0
Need to defer? 1
Receive 2 ACK
***Exit CS (file:b.txt)***
Send OK
Send OK
Send deferred REPLY b.txt$#, server:0->1
Send deferred REPLY b.txt$#, server:0->2
Receive WRITE a.txt client0_2 from client
Receive BC b.txt client4, server:2->0
Send ACK b.txt$#, server:0->2
Local timestamp[a.txt]=2
Waiting for replies...
Receive 2 replies
***Enter CS (file:a.txt)***
Write 'client0_2' to a.txt
Send BC a.txt client0_2$#, server:0->1
Send BC a.txt client0_2$#, server:0->2
Waiting for ACKs...
Receive ACK a.txt, server:1->0
outstd_ack_cnt=1
Receive ACK a.txt, server:2->0
outstd_ack_cnt=0
Receive 2 ACK
***Exit CS (file:a.txt)***
Receive BC b.txt client3_2, server:1->0
Send ACK b.txt$#, server:0->1
Send OK
Receive BYE from client
Connection closed
Start listening to client's requests...
Receive REQME 2 1 a.txt, server:1->0
Need to defer? 0
Send REPLY a.txt$#, server:0->1
Receive BC a.txt client2, server:1->0
Send ACK a.txt$#, server:0->1
Receive BC c.txt client2, server:1->0
Send ACK c.txt$#, server:0->1
Receive BC a.txt client2_2, server:1->0
Send ACK a.txt$#, server:0->1
Receive BC c.txt client1, server:1->0
Send ACK c.txt$#, server:0->1
